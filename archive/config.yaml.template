# Telegram Digest Bot Configuration

# Telegram API Configuration
telegram:
  api_id: ${TELEGRAM_API_ID}  # Get from https://my.telegram.org/apps
  api_hash: ${TELEGRAM_API_HASH}
  session_file: ./data/user_session.session

# LLM Provider Configuration
llm:
  # Choose: "openai" or "ollama"
  provider: "ollama"
  
  # OpenAI Configuration
  openai:
    api_key: ${OPENAI_API_KEY}  # Or set OPENAI_API_KEY env var
    model: "gpt-4.1"
    max_tokens: 2000
    temperature: 0.3
  
  # Ollama Configuration
  ollama:
    base_url: "http://localhost:11434"
    model: "mistral:latest"
    temperature: 0.1
    top_p: 0.9

# Digest Configuration
digest:
  interval_minutes: 240  # Run every 4 hours
  max_messages_per_chat: 100  # Limit messages per chat per cycle
  
  # Time window for message collection (in hours)
  lookback_hours: 72  # 3 day
  
  # Filtering options
  filters:
    min_message_length: 10
    exclude_emoji_only: true
    include_mentions: true
    include_keywords: true
    include_money_amounts: true
    include_dates: true

# Output Configuration
output:
  send_to_saved_messages: true
  include_json_attachment: true
  format_markdown: true

# Data Storage
storage:
  data_directory: "./data"
  backup_days: 30  # Keep backups for 30 days

# Security
security:
  redact_sensitive: true  # Redact emails, phones, etc. for cloud LLMs
  sensitive_chat_denylist: []  # Chat IDs to never process